<div class="section" formGroupName="Insurance">
  <div class="p-4 bg-white shadow rounded-lg">
    <h2 class="text-xl font-bold mb-6 border-b pb-3 text-[#1976d2]">Insurance</h2>

    <div class="space-y-6">
      <div class="form-row">
        <div class="w-40 font-semibold">Provided by Employer:</div>
        <div class="flex flex-wrap gap-6 flex-1">
          <div class="radio-group-container min-w-[200px]">
            <mat-radio-group formControlName="ProvidedByEmployer" class="flex gap-6">
              @for (key of yesNo | keyvalue; track key.key) {
              <mat-radio-button [value]="key.value" class="radio-option">{{ key.value }}</mat-radio-button>
              }
            </mat-radio-group>
          </div>

          <mat-form-field appearance="fill" class="min-w-[250px] flex-1">
            <mat-label>Details</mat-label>
            <textarea 
              matInput 
              formControlName="ProvidedByEmployerDetails"
              cdkTextareaAutosize
              [cdkTextareaAutosize]="true"
              cdkAutosizeMinRows="1"
              cdkAutosizeMaxRows="5"
            ></textarea>
          </mat-form-field>

          <mat-form-field appearance="fill" style="max-width: 250px; height:100px">
            <mat-label>Degree of Risk</mat-label>
            <mat-select formControlName="ProvidedByEmployerRisk">
              <mat-option value="L">L</mat-option>
              <mat-option value="L/M">L/M</mat-option>
              <mat-option value="M">M</mat-option>
              <mat-option value="M/H">M/H</mat-option>
              <mat-option value="H">H</mat-option>
              <mat-option value="NA">N/A</mat-option>
              <mat-option value="NSR">NSR</mat-option>
              <mat-option value="Pending">Pending</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <div class="form-row">
        <div class="w-40 font-semibold">Min Amount of Third Party Liability:</div>
        <div class="flex flex-wrap gap-6 flex-1">
          <mat-form-field appearance="fill" class="min-w-[250px] flex-1">
            <mat-label>Details</mat-label>
            <input matInput formControlName="ThirdPartyDetails" type="number" placeholder="number only" />
          </mat-form-field>

          <mat-form-field appearance="fill" style="max-width: 250px">
            <mat-label>Degree of Risk</mat-label>
            <mat-select formControlName="ThirdPartyRisk">
              <mat-option value="L">L</mat-option>
              <mat-option value="L/M">L/M</mat-option>
              <mat-option value="M">M</mat-option>
              <mat-option value="M/H">M/H</mat-option>
              <mat-option value="H">H</mat-option>
              <mat-option value="NA">N/A</mat-option>
              <mat-option value="NSR">NSR</mat-option>
              <mat-option value="Pending">Pending</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <div class="form-row">
        <div class="w-40 font-semibold">Onerous Requirements:</div>
        <div class="flex flex-wrap gap-6 flex-1">
          <div class="radio-group-container min-w-[200px]">
            <mat-radio-group formControlName="OnerousRequirements" class="flex gap-6">
              @for (key of yesNo | keyvalue; track key.key) {
              <mat-radio-button [value]="key.value" class="radio-option">{{ key.value }}</mat-radio-button>
              }
            </mat-radio-group>
          </div>

          <mat-form-field appearance="fill" class="min-w-[250px] flex-1">
            <mat-label>Details</mat-label>
            <textarea 
            matInput formControlName="OnerousRequirementsDetails" 
            cdkTextareaAutosize
            [cdkTextareaAutosize]="true"
            cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="5"
            ></textarea>
          </mat-form-field>

          <mat-form-field appearance="fill" style="max-width: 250px; height:100px">
            <mat-label>Degree of Risk</mat-label>
            <mat-select formControlName="OnerousRequirementsRisk">
              <mat-option value="L">L</mat-option>
              <mat-option value="L/M">L/M</mat-option>
              <mat-option value="M">M</mat-option>
              <mat-option value="M/H">M/H</mat-option>
              <mat-option value="H">H</mat-option>
              <mat-option value="NA">N/A</mat-option>
              <mat-option value="NSR">NSR</mat-option>
              <mat-option value="Pending">Pending</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <div class="form-row">
        <div class="w-40 font-semibold">Shortfall in Cover:</div>
        <div class="flex flex-wrap gap-6 flex-1">
          <div class="radio-group-container min-w-[200px]">
            <mat-radio-group formControlName="ShortfallInCover" class="flex gap-6">
              @for (key of yesNo | keyvalue; track key.key) {
              <mat-radio-button [value]="key.value" class="radio-option">{{ key.value }}</mat-radio-button>
              }
            </mat-radio-group>
          </div>

          <mat-form-field appearance="fill" class="min-w-[250px] flex-1">
            <mat-label>Details</mat-label>
            <textarea matInput formControlName="ShortfallInCoverDetails"
            matInput formControlName="ShortfallInCoverDetails" 
            cdkTextareaAutosize
            [cdkTextareaAutosize]="true"
            cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="5"
            ></textarea>
          </mat-form-field>

          <mat-form-field appearance="fill" style="max-width: 250px; height:100px">
            <mat-label>Degree of Risk</mat-label>
            <mat-select formControlName="ShortfallInCoverRisk">
              <mat-option value="M">L</mat-option>
              <mat-option value="L/M">L/M</mat-option>
              <mat-option value="M">M</mat-option>
              <mat-option value="M/H">M/H</mat-option>
              <mat-option value="H">H</mat-option>
              <mat-option value="NA">N/A</mat-option>
              <mat-option value="NSR">NSR</mat-option>
              <mat-option value="Pending">Pending</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>
</div>
